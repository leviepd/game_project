<!DOCTYPE html>

<html>

<head>

<p>Cash Register</p>

Enter Item, Quantity: <input id=command onchange="input_data(this)">

<div id=output></div>

</head>

<body>

<script>

write = function(s) {
	var h = document.getElementById("output").innerHTML;
	document.getElementById("output").innerHTML = h + "<br>" + s;
	// why is <br> in quatations??
}

// Data Structure

snes = {
	name: "snes",
	price: 75,
	sub: undefined,
	qty: undefined,
};

sega = {
	name: "sega",
	price: 40,
	sub: undefined,
	qty: undefined,
};

gamecube = {
	name: "gamecube",
	price: 40,
	sub: undefined,
	qty: undefined,
};

ps1 = {
	name: "ps1",
	price: 40,
	sub: undefined,
	qty: undefined,
};

products = [snes, sega, gamecube, ps1];

order = {
	cunstomer: "Billy Bob",
	lines: [
	/*	{
		product: sega,
		qty: 1, 
		subtotal: 7500,
		} */
	]
}

function input_data(element) {
	handle_data(element.value);
	element.value = "";
	element.scrollIntoView();
}

handle_data = function(data) {
	data = data.toLowerCase();
	data = data.split(" ");  // ["", ""]
	entry = data[0];
	num = parseInt(data[1]);
	
	function line() {
		prod.sub = prod.price * num;
		prod.qty = num;
		write("Product: " + prod.name);
		write("Price: " + prod.price);
		write("Quantity: " + prod.qty);
		write("Subtotal: " + prod.sub);
	} 

	function total() {
		
	}

	var i;
	for(i = 0; i < products.length; i++) {
		var prod = products[i];
	if(entry === prod.name) {
		if(num === undefined) {
			write("You have to enter the item, and the item's quantity.");
		}
		else { // num is defined
			line();
		}
	}
	}
};



</script>

</body>

</html>



