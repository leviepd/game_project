<!DOCTYPE html>
<html>

<body>

<p>Text Adventure 1.1 ("NOT AS BAD CODING") "The Haunted House"</p>

<script>

/*


	// traditional object construction
	function Foo(n) {
		this.x = n;
		this.get_x = function() {				// a function that is often called a "method"
			return this.x;
		}
	}
	foo = new Foo(7);		// foo.x == 7
	x = foo.get_x();		// x == 7


	// this is what's actually happening when you do "foo = new Foo(7)";
	n = 7;
	o = {}
	foo = Foo.call(o, n);		// o is the object that the function will see as "this"


	// joe's alternative
	foo = {}
	foo.x = 7;
	foo.get_x = function() {
		return this.x;
	}
	x = foo.get_x(); 			// foo.get_x.call(foo);



	// java like class shit
	class Foo {
		var x;
		Foo() {
			x = 7;
		}

		Foo test() {
			return this;
		}
	}

	void blah(someargs) {
		foo = new Foo();
		foo.x;		// 7
		y = foo.test();		// y == 7
	}



*/

alert("Welcome to The Haunted House text adventure game. Please click okay to continue");

var gameOver = "Game over! Refresh the page to start over";

var promptIn = function (insert) {
	return prompt (insert).toUpperCase();
}; 

// returns the string inserted into the prompt

var prompt1 = "You wake up on a cold concrete floor, frozen. Everything is black... no light whatsoever... GET UP and search the surrounding area, or SEARCH the area on your hands and knees";

var prompt2 = "You feel aweful... REST for 10 min, or SEARCH the area on your hands and knees.";

var prompt2a = "You can TURN ON the flashlight, or SEARCH WITHOUT it.";

var prompt3 = "STAND UP and search the area, or SEARCH on your hands and knees.";

var prompt3a = "You are still feeling extremely weak. You must REST.";

var block1  = function () {
	for (i = 0; i <= 20; i++) {

		var choice1 = promptIn(prompt1);

		if (choice1 === "GET UP" || choice1 === "SEARCH") {
		
		 	return choice1;
		} 
	}	
};

var block2 = function () {
	for (i = 0; i <= 20; i++) {
	
		var choice2 = promptIn(prompt2);

		if (choice2 === "REST" || choice2 === "SEARCH") {
			
			return choice2;
		}
	}
};

var block2a = function () {
	for (i = 0; i <= 20; i++) {
		
		var choice2a = promptIn(prompt2a);

		if (choice2a === "TURN ON" || choice2a === "SEARCH WITHOUT") {
			
			return choice2a;
		}
	}
};

var block3 = function () {
	for (i = 0; i <= 20; i++) {
		
		var choice3 = promptIn(prompt3);

		if (choice3 === "STAND UP" || choice3 === "SEARCH") {
			
			return choice3;
		}
	}
};

var block3a = function () {
	for (i = 0; i <= 20; i++) {
		
		var choice3a = promptIn(prompt3a);

		if (choice3a === "REST") {
			return choice3a;
		}
	}
};

/*
var choice_3aRevert = function () {
	alert("You gain some energy and may be able to stand up to search the area.");
	for (i = 0; i <= 20; i++) {
		
		var choice_3 = block3();

		if (choice_3 === "STAND UP") {
			
			alert(choice_3);
		}

		if (choice_3 === "SEARCH") {

			alert(choice_3);

		}
	}
};
*/

var choice_1  = block1();

if (choice_1 === "GET UP") {

	alert("Standing up wasn't a good idea. You realize you are extremely weak. You sit back down.");
	
	var choice_2 = block2();  // "REST" or "SEARCH" on hands and knees

		if (choice_2 === "REST") {
			
			alert("You gain some energy and may be able to stand up to search the area");
			
			var choice_3 = block3();  // Once "REST" ... "STAND UP" to search, or "SEARCH" on hands and knees

				if (choice_3 === "STAND UP") {

					alert(choice3);
			
				}

				if (choice_3 === "SEARCH") {
					
					alert(choice_3);
			
				}

		}

		if (choice_2 === "SEARCH") {
			
			var choice_3a = block3a();  // too tired must "REST"
		
				if(choice_3a === "REST") {
					
				//	choice_3aRevert();

				}
			
		}	

}

 if (choice_1 === "SEARCH") {

	alert(choice_1);
	
}

</script>

</body>

</html>
